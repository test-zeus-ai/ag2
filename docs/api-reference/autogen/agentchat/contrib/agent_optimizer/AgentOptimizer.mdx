---
sidebarTitle: AgentOptimizer
title: autogen.agentchat.contrib.agent_optimizer.AgentOptimizer
---
<h2 id="autogen.agentchat.contrib.agent_optimizer.AgentOptimizer" class="doc doc-heading">
    <code class="doc-symbol doc-symbol-heading doc-symbol-class"></code>
    <span class="doc doc-object-name doc-class-name">AgentOptimizer</span>
</h2>

```python
AgentOptimizer(
    max_actions_per_step: int,
    llm_config: dict,
    optimizer_model: str | None = 'gpt-4-1106-preview'
)
```

    Base class for optimizing AutoGen agents. Specifically, it is used to optimize the functions used in the agent.
    More information could be found in the following paper: https://arxiv.org/abs/2402.11359.
    
    (These APIs are experimental and may change in the future.)

<b>Parameters:</b>
| Name | Description |
|--|--|
| `max_actions_per_step` | the maximum number of actions that the optimizer can take in one step.<br/><br/>**Type:** `int` |
| `llm_config` | llm inference configuration.<br/><br/>Please refer to [OpenAIWrapper.create](/reference/autogen/OpenAIWrapper#create) for available options.<br/><br/>When using OpenAI or Azure OpenAI endpoints, please specify a non-empty 'model' either in `llm_config` or in each config of 'config_list' in `llm_config`.<br/><br/>**Type:** `dict` |
| `optimizer_model` | the model used for the optimizer.<br/><br/>**Type:** `str \| None`<br/><br/>**Default:** 'gpt-4-1106-preview' |

### Instance Methods

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### record_one_conversation

```python
record_one_conversation(
    self,
    conversation_history: list[dict],
    is_satisfied: bool = None
) -> 
```

    Record one conversation history.

<b>Parameters:</b>
| Name | Description |
|--|--|
| `conversation_history` | the chat messages of the conversation.<br/><br/>**Type:** `list[dict]` |
| `is_satisfied` | whether the user is satisfied with the solution.<br/><br/>If it is none, the user will be asked to input the satisfaction.<br/><br/>**Type:** `bool`<br/><br/>**Default:** None |

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### reset_optimizer

```python
reset_optimizer(self) -> 
```

    Reset the optimizer.

<br />

<code class="doc-symbol doc-symbol-heading doc-symbol-method"></code>
#### step

```python
step(self) -> 
```

    One step of training. It will return register_for_llm and register_for_executor at each iteration,
    which are subsequently utilized to update the assistant and executor agents, respectively.
    See example: https://github.com/ag2ai/ag2/blob/main/notebook/agentchat_agentoptimizer.ipynb

<br />